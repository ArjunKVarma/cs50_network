{% extends "network/layout.html" %}
{% load static %}

{% block body %}

<div id="posts">
  <div class="d-flex align-items-center justify-content-center mt-3">
    <nav aria-label="Page navigation example ">
      <ul class="pagination">
      {% if allposts.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ allposts.next_page_number }}">Next</a></li>
      {% endif %}
      {% if allposts.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ allposts.previous_page_number }}">Previous</a></li>
      {% endif %}
      </ul>
    </nav>
  </div>
    {% if allposts %}
    {% for post in allposts %}
    <div class="content">
        <a href="{% url 'profile' post.owner.id %}"><h6>{{ post.owner }}</h6></a>
        <p>{{ post.content }}</p>
        <p>{{ post.date }}</p>
        {% if post.id in postsLiked %}
          <button id="unlike_{{ post.id }}" onclick="unlike({{post.id}})">Liked</button><p>Likes: <span id="like_count{{post.id}}">{{ post.likes }}</span></P>
        {% else %}  
          <button id="like_{{ post.id }}" onclick="like({{post.id}})">Like</button><p>Likes: <span id="like_count{{post.id}}">{{ post.likes }}</span></P>
        {% endif %}
    </div>
        
    {% endfor %}
    {% endif %}
    
</div>


{% endblock %}
{% block script %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'network/index.js' %}"></script>

{% endblock %}
